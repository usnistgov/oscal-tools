"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7594],{7594:(q,v,a)=>{a.r(v),a.d(v,{CatBeginPageModule:()=>I});var g=a(9808),Z=a(4182),i=a(2974),A=a(5002),e=a(2096),p=a(2646),m=a(655),f=a(8714),u=a(1042),c=a(4513);function C(t,s){if(1&t&&(e.TgZ(0,"ion-row"),e.TgZ(1,"ion-col"),e.TgZ(2,"ion-item"),e._UZ(3,"ion-radio",3),e._uU(4,"\xa0\xa0\xa0\xa0 "),e.TgZ(5,"ion-label"),e._uU(6),e.qZA(),e._UZ(7,"div"),e.qZA(),e.qZA(),e.qZA()),2&t){const o=s.$implicit,n=s.index;e.xp6(3),e.s9C("value",n),e.xp6(3),e.Oqu(o.cat_label)}}function S(t,s){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"ion-grid"),e.TgZ(2,"ion-row"),e.TgZ(3,"ion-col"),e.TgZ(4,"ion-title"),e._uU(5,"\xa0\xa0Start with a Known OSCAL Catalog"),e.qZA(),e.qZA(),e.qZA(),e.YNc(6,C,8,2,"ion-row",2),e.qZA(),e.qZA()),2&t){const o=e.oxw();e.xp6(6),e.Q6J("ngForOf",o.oscalFiles)}}function W(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"ion-row"),e.TgZ(1,"ion-col"),e.TgZ(2,"ion-item"),e._UZ(3,"ion-radio",3),e._uU(4,"\xa0\xa0\xa0\xa0 "),e.TgZ(5,"ion-label"),e._uU(6),e.qZA(),e.TgZ(7,"ion-button",4),e.NdJ("click",function(r){const d=e.CHM(o).index;return e.oxw(3).presentDeleteWarning(r,d)}),e._UZ(8,"ion-icon",5),e.qZA(),e.TgZ(9,"ion-button",6),e.NdJ("click",function(r){const d=e.CHM(o).index;return e.oxw(3).editWorkItemName(r,d)}),e._UZ(10,"ion-icon",7),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=s.$implicit,n=s.index;e.xp6(3),e.s9C("value",2+n),e.xp6(3),e.AsE("",o.name," [",o.uuid,"]"),e.xp6(1),e.Q6J("title","Press to remove ".concat(o.name)),e.xp6(2),e.Q6J("title","Press to edit ".concat(o.name))}}function _(t,s){if(1&t&&(e.TgZ(0,"ion-grid"),e.TgZ(1,"ion-row"),e.TgZ(2,"ion-col"),e.TgZ(3,"ion-title"),e._uU(4,"\xa0\xa0Continue with the Previously Saved Work"),e.qZA(),e.qZA(),e.qZA(),e.YNc(5,W,11,5,"ion-row",2),e.qZA()),2&t){const o=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",o.savedWork)}}function T(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,_,6,1,"ion-grid",1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.savedWork)}}let x=(()=>{class t{constructor(o,n){this.session=o,this.alertControl=n,this.oscalFiles=f.D.getAllKnownFiles()}ngOnInit(){this.readSavedWork()}readSavedWork(){this.session.isKeyValue(c.WW.SAVED_SESSIONS)&&this.session.getKeyValueObject(c.WW.SAVED_SESSIONS).then(o=>{if(o&&Array.isArray(o)&&o.length>0)this.savedWork=o;else{this.savedWork=void 0;const n=[{name:"Work item 1",uuid:(0,u.Z)()},{name:"Work Item 1001",uuid:(0,u.Z)()}];this.session.setKeyValueObject(c.WW.SAVED_SESSIONS,n)}})}handleRadioChange(o){console.log(o);const n=o.detail.value;console.log(n),n>1?(this.chosenOscalCat=void 0,this.chosenSession=this.savedWork[n-2]):(this.chosenOscalCat=this.oscalFiles[n],this.chosenSession=void 0),this.activateSession(!1),this.readSavedWork()}popAlert(o,n){}hasSavedWork(){return!!this.savedWork}editWorkItemName(o,n){}ionViewWillLeave(){console.log("!!!!!!======!!!!!! Begin-Page Will Leave!!!!!!"),this.chosenOscalCat?console.log("Leaning with Cat"):this.chosenSession&&console.log("Leaning with Session")}activateSession(o=!0){if(console.log("Cat-Activate-In"),console.log(this.chosenOscalCat),this.chosenOscalCat){console.log("Cat-Activate - Chosen-Cat");const n={name:`Profile Draft Based on ${this.chosenOscalCat.cat_suffix}`,uuid:(0,u.Z)()};console.log(n),o&&(this.savedWork||(console.log("Creating savedWork Array"),this.savedWork=new Array),this.savedWork.push(n),console.log(`savedWork Array has Length:${this.savedWork.length}`),this.session.setKeyValueObject(c.WW.SAVED_SESSIONS,this.savedWork),console.log(`Saved work Array ${this.savedWork}`),console.log(this.savedWork)),this.session.saveActiveSession(n)}else!this.chosenOscalCat&&this.chosenSession&&this.session.saveActiveSession(this.chosenSession)}ngOnDestroy(){console.log("Begin-Page Will Destroy!!!!!!"),this.activateSession()}removeWorkItem(o,n){this.savedWork&&(console.log(`Item Index ${n} Event Target:${o.target}`),this.savedWork.splice(n,1),this.savedWork.length>0?this.session.setKeyValueObject(c.WW.SAVED_SESSIONS,this.savedWork):(this.session.setKeyValueObject(c.WW.SAVED_SESSIONS,null),this.savedWork=null))}presentDeleteWarning(o,n){return(0,m.mG)(this,void 0,void 0,function*(){const r=this.savedWork[n],l=r.fullName?r.fullName:r.name,d=r.uuid;console.log(l);const h=`<div>Are you sure you want to delete</div><br /><div> <strong>Saved Work:</strong></div><div><strong>"${l}"<strong></div><br /><div>With UUID:<div> <div><strong>[${d}]?</div></strong></div><br />`;yield(yield this.alertControl.create({header:"Delete Saved Work ?",message:h,cssClass:"delete-alert-global-class",buttons:[{text:"Delete",handler:O=>{this.removeWorkItem(o,n)}},{text:"Cancel",role:"cancel",handler:O=>!1}]})).present()})}presentEditName(o,n){return(0,m.mG)(this,void 0,void 0,function*(){(yield this.alertControl.create({header:"Rename Saved Work",message:"Enter new name for the saved item",inputs:[{name:"title",placeholder:"Title"}],buttons:[{text:"Cancel",handler:l=>{console.log("Cancel clicked")}},{text:"Save",handler:l=>{console.log("Saved clicked")}}]})).present()})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.V8),e.Y36(i.Br))},t.\u0275cmp=e.Xpm({type:t,selectors:[["oscal-author-begin"]],decls:16,vars:2,consts:[[3,"ionChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],["color","danger",3,"title","click"],["icon","trash-outline"],["disabled","true",3,"title","click"],["icon","pencil-outline"]],template:function(o,n){1&o&&(e.TgZ(0,"div"),e.TgZ(1,"ion-grid"),e.TgZ(2,"ion-row"),e.TgZ(3,"ion-col"),e.TgZ(4,"ion-title"),e._uU(5,"\xa0\xa0Select Authoring Mode"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-row"),e.TgZ(7,"ion-col"),e.TgZ(8,"ion-text"),e._uU(9,"\xa0\xa0\xa0\xa0\xa0\xa0 Start new profile with a catalog, or continue previously saved session. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"div"),e.TgZ(12,"ion-radio-group",0),e.NdJ("ionChange",function(l){return n.handleRadioChange(l)}),e.YNc(13,S,7,1,"div",1),e._UZ(14,"br"),e.YNc(15,T,2,1,"div",1),e.qZA(),e.qZA()),2&o&&(e.xp6(13),e.Q6J("ngIf",!0),e.xp6(2),e.Q6J("ngIf",!n.newDraft&&n.hasSavedWork()))},directives:[i.jY,i.Nd,i.wI,i.wd,i.yW,i.se,i.QI,g.O5,g.sg,i.Ie,i.B7,i.U5,i.Q$,i.YG,i.gu],styles:[""]}),t})();const k=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}ionViewWillLeave(){console.log("<<<!!!>>>Begin Page ()=>{ Will Leave }")}stakeSession(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-cat-begin"]],decls:7,vars:0,consts:[[1,"content"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-title"),e._uU(3,"Authoring Mode"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",0),e._UZ(5,"oscal-nav-cat"),e._UZ(6,"oscal-author-begin"),e.qZA())},directives:[i.Gu,i.sr,i.wd,i.W2,p.v,x],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[A.Bz.forChild(k)],A.Bz]}),t})();var B=a(4477),w=a(3930);let I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,Z.u5,i.Pc,y,B.Y,w.K]]}),t})()}}]);